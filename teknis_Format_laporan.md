# Laporan Penilaian Agunan Tanah dan Bangunan

Nomor Laporan: ..............................

## 1. Batasan dan Syarat-Syarat Penilaian

### 1.1 Ketentuan Internal
Penilaian ini mengikuti ketentuan internal perusahaan dan menggunakan asumsi serta pembatasan berikut.

### 1.2 Batasan dan Asumsi
1. Penilai internal tidak melaksanakan penelitian yuridis terhadap keabsahan sertifikat ke kantor BPN maupun instansi berwenang lainnya. Seluruh dokumen yang diterima berupa salinan yang telah diverifikasi Unit Kerja Pemohon terhadap kesesuaiannya dengan dokumen asli terbaru milik debitur atau calon debitur.
2. Catatan, coretan, koreksi, atau penambahan informasi pada salinan dokumen yang dilakukan Unit Kerja Pemohon dianggap telah sesuai dengan dokumen asli sebagaimana dimaksudkan untuk memperjelas isi dokumen.
3. Penilaian agunan dilakukan berdasarkan salinan dokumen yang diterima dari Unit Kerja Pemohon dan dicocokkan dengan kondisi fisik objek agunan.
4. Penilai internal tidak melakukan pengukuran langsung terhadap luas tanah. Luas tanah mengacu pada data legalitas yang diperoleh dari Unit Kerja Pemohon.
5. Data pembanding diambil dari properti sejenis dengan lingkungan serupa dan bersumber dari pihak yang diperkenankan sesuai ketentuan internal maupun eksternal bank.
6. Penilaian bangunan mempertimbangkan kondisi fisik saat inspeksi, tanpa pemeriksaan struktur bangunan atau bagian lain yang tertutup, tidak terlihat, atau tidak terjangkau.
7. Penilaian atas mesin dan peralatan mengacu pada salinan invoice, faktur, atau kuitansi pembelian yang diberikan Unit Kerja Pemohon.
8. Ruang lingkup penilaian kebun kelapa sawit (jika ada) hanya mencakup tanah dan tanaman yang telah menghasilkan. Tanaman belum menghasilkan, bangunan, infrastruktur, mesin, dan sarana pelengkap lain di luar ruang lingkup penilaian ini.
9. Seluruh hasil penilaian disajikan dalam mata uang rupiah.
10. Nilai yang digunakan dalam pelaporan meliputi Nilai Pasar, Nilai Jual Objek Pajak (NJOP), nilai setelah penerapan safety margin, dan nilai likuidasi.
11. Laporan penilaian agunan diterbitkan lengkap dengan nomor laporan serta ditandatangani penilai internal dan pihak supervisi.
12. Penilai internal dibebaskan dari tuntutan dan kewajiban atas penggunaan laporan yang tidak sesuai dengan tujuan penilaian.

## 2. Data Umum

| No | Uraian | Nilai |
|----|--------|-------|
| 1 | Jenis Laporan | Penilaian Agunan |
| 2 | Nomor Laporan Penilaian | xxxxxxxxxxxxx |
| 3 | Tanggal Laporan Penilaian | xxxxxxxxxxxxx |
| 4 | Nama Nasabah / Calon Nasabah | John Secada |
| 5 | Alamat Nasabah / Calon Nasabah | Perumahan Permata Mulia Kav 2, Jl. Merpati RT 02 RW 002, Kel. Jalan Gedang, Kec. Gading Cempaka, Kota Bengkulu |
| 6 | Plafond Kredit | Rp 1.000.000.000 |
| 7 | Tujuan Pembiayaan | Modal Kerja |
| 8 | Unit Kerja Pemohon | Cabang Utama |
| 9 | Nomor Memo / Surat Permohonan | xxxxxxxxxxxx |
| 10 | Tanggal Surat Permohonan | 24 Oktober 2023 |
| 11 | Tanggal & Waktu Terima Surat Permohonan | 25 Oktober 2023 pukul 01.20 WIB |
| 12 | Tanggal & Waktu Kelengkapan Dokumen | 25 Oktober 2023 pukul 01.20 WIB |
| 13 | Tanggal OTS / Kunjungan | 25 Oktober 2023 |
| 14 | Tanggal Penilaian | 25 Oktober 2023 |
| 15 | Tujuan Penilaian | Penjaminan Utang |
| 16 | Status Laporan | Baru |
| 17 | Pendekatan Penilaian | Pendekatan Pasar |
| 18 | Nama Penilai Internal | Rano Karno |
| 19 | Contact Person di Lapangan | Bapak John Secada |

## 3. Data Agunan

### 3.1 Identitas Agunan

| Uraian | Nilai |
|--------|-------|
| Jenis Agunan | Rumah tinggal permanen |
| Alamat Agunan | Perumahan Permata Mulia Kav 2, Jl. Merpati RT 02 RW 002, Kel. Jalan Gedang, Kec. Gading Cempaka, Kota Bengkulu, Provinsi Bengkulu |

### 3.2 Legalitas Dokumen Kepemilikan

| No | Jenis Dokumen | Nomor | Tanggal Terbit | Tanggal Kedaluwarsa | Luas (m²) | Atas Nama | Status Verifikasi | Catatan |
|----|---------------|-------|----------------|----------------------|------------|-----------|-------------------|---------|
| 1 | Sertifikat Hak Milik | 0404 | 25-06-2019 | - | 137 | John Secada | Belum diverifikasi | Salinan dokumen disampaikan Unit Kerja Pemohon |

### 3.3 Izin Mendirikan Bangunan (IMB)

| No | Nomor Perizinan | Tanggal Terbit | Penerbit | Luas (m²) | Atas Nama | Status Verifikasi | Catatan |
|----|-----------------|----------------|----------|------------|-----------|-------------------|---------|
| 1 | - | - | - | - | - | Belum tersedia | Dokumen IMB belum diterima |

## 4. Jenis Penilaian Agunan

- [x] Baru
- [ ] Ulang

## 5. Kondisi Tanah dan Batas

| Aspek | Deskripsi |
|-------|-----------|
| Bentuk Tanah | Persegi empat |
| Topografi | Datar |
| Elevasi terhadap Jalan | Sejajar |
| Posisi Bidang | Tengah kavling |
| Peruntukan | Permukiman |

| Arah | Batas |
|------|-------|
| Utara | Siring |
| Selatan | Jalan perumahan |
| Barat | Rumah tinggal |
| Timur | Rumah tinggal |

## 6. Kondisi Bangunan

| Aspek | Deskripsi |
|-------|-----------|
| Jenis Bangunan | Rumah tinggal permanen 1 lantai (Tipe A) |
| Tahun Dibangun / Usia | 2020 / 5 tahun |
| Tahun Renovasi | - |
| Jumlah Lantai | 1 |
| Kondisi Perawatan | Terawat |

### 6.1 Spesifikasi Material

| Elemen | Material |
|--------|----------|
| Lantai | Granit |
| Dinding | Bata merah plester |
| Atap | Genteng metal |
| Plafon | Triplek |
| Rangka | Baja ringan |

## 7. Informasi Penting Lainnya

| No | Item | Status | Catatan |
|----|------|--------|---------|
| 1 | IMB | Belum tersedia | Menunggu dokumen resmi |
| 2 | PBB tahun terakhir | Belum terlampir | Dicatat dalam catatan penilai |
| 3 | Akses jalan masuk | Ada | Jalan lingkungan dapat dilalui kendaraan roda empat |
| 4 | Rambu atau informasi sengketa | Tidak ditemukan | - |
| 5 | Kawasan rawan banjir | Tidak terindikasi | Perlu pemantauan saat musim hujan |
| 6 | Tanah wakaf atau sosial | Tidak | - |
| 7 | Di bawah jaringan SUTET | Tidak | - |
| 8 | Dekat pemakaman umum (<100 m) | Tidak | - |
| 9 | Dekat tempat pembuangan akhir (<100 m) | Tidak | - |
| 10 | Berada di jalur hijau | Tidak | - |
| 11 | Jalan masuk bisa dilewati mobil | Ya | Lebar jalan 6 m |

## 8. Fasilitas dan Kondisi Lingkungan

| Aspek | Deskripsi |
|-------|-----------|
| Kelas Jalan | Jalan lingkungan |
| Material Permukaan | Aspal |
| Lebar Jalan | 6 m |
| Fasilitas Umum | Lengkap (akses pasar, fasilitas kesehatan, pendidikan) |
| Transportasi | Mudah dijangkau |
| Listrik | Daya terpasang 2.200 VA |
| Sumber Air | Sumur bor |
| Posisi Lantai | Di atas muka jalan |

## 9. Data Pembanding

| No | Jenis | Luas Tanah (m²) | Luas Bangunan (m²) | Harga Transaksi (Rp) | Harga per m² (Rp) | Penyesuaian | Harga Disesuaikan (Rp) | Bobot | Harga Akhir per m² (Rp) | Lokasi | Sumber Informasi |
|----|-------|------------------|---------------------|----------------------|---------------------|-------------|------------------------|-------|--------------------------|--------|-------------------|
| 1 | Tanah | 200 | - | 260.000.000 | 1.300.000 | - | - | - | - | Jl. Merpati, Kel. Jalan Gedang | Bpk. Muslim (081345671278) |
| 2 | Tanah | 150 | - | 225.000.000 | 1.500.000 | - | - | - | - | Jl. Merpati, Kel. Jalan Gedang | RT setempat (0811736289) |

> Catatan: Penyesuaian, bobot, dan harga akhir per m² perlu dihitung sesuai metodologi penilaian pasar yang digunakan.

## 10. Ringkasan Nilai Agunan

| Komponen | Luas (m²) | Harga Satuan (Rp/m²) | Nilai Pasar (Rp) | Nilai NJOP (Rp) | Safety Margin (%) | Nilai Setelah Safety Margin (Rp) | Nilai Likuidasi (Rp) | Catatan |
|----------|------------|-----------------------|------------------|-----------------|-------------------|-------------------------------|----------------------|---------|
| Tanah | 137 | 2.900.000 | 174.216.000 | 81.000.000 | 20 | 139.372.800 | - | Perlu konfirmasi nilai likuidasi |
| Bangunan | 45 | 1.530.000 | 68.850.000 | 12.150.000 | 20 | 55.080.000 | - | Luas fisik 200 m², IMB 140 m² (perlu rekonsiliasi) |
| **Total** | - | - | **243.066.000** | **93.150.000** | - | **194.452.800** | - | Nilai likuidasi agregat belum ditetapkan |

## 11. Catatan Penilai

- Objek agunan berada pada lokasi strategis di tengah Kota Bengkulu, di tepi jalan utama, berjarak sekitar 300 m dari RS umum.
- Hingga laporan ini diterbitkan, dokumen PBB terakhir belum dilampirkan. Terdapat perbedaan data luas bangunan: fisik 200 m² dan IMB 140 m².
- Objek berjarak sekitar 200 m dari pasar tradisional setempat.
- Penilai internal tidak melakukan verifikasi yuridis atas keabsahan sertifikat ke instansi berwenang (BPN/Kepolisian).
- Hasil pengecekan melalui aplikasi Sentuh Tanahku menunjukkan lokasi bidang sesuai dengan kondisi fisik di lapangan.
- Lingkungan sekitar didominasi pertokoan dan kios usaha.

## 12. Penutup

Demikian laporan penilaian agunan ini disusun untuk digunakan sebagaimana mestinya. Atas perhatian dan kerja sama yang baik, kami ucapkan terima kasih.

| Bengkulu, 30 September 2025 | |
|-----------------------------|-----------------------------|
| Mengetahui | Penilai |
| (Supervisi) | (Petugas AOPK) |

## 13. Lampiran

- Foto agunan
- Posisi agunan
- Sketsa dari aplikasi Sentuh Tanahku BPN

## 14. Validasi Data & Audit

1. Ringkasan pengecekan otomatis: (Total / Peringatan / Kritis)
2. Temuan kualitas data: (Diisi otomatis oleh sistem)
3. Status verifikasi legal: (Daftar dokumen, status, dan pengingat)
4. Riwayat aktivitas: (Log perubahan status dan pengguna)
5. Reset draft: (Opsi mengosongkan data dan lampiran untuk laporan berstatus draft)

## 15. Spesifikasi Formulir Digital

### 15.1 Data Umum

| Field | Tipe Data | Format / Batasan | Wajib | Catatan Implementasi |
|-------|-----------|------------------|-------|----------------------|
| jenisLaporan | Dropdown | Opsi: `Penilaian Agunan` | Ya | Default `Penilaian Agunan`, noneditable untuk versi awal |
| nomorLaporan | Text | Alfanumerik, panjang maks. 20 | Ya | Dapat diisi manual atau auto-generated sesuai running number cabang |
| tanggalLaporan | Date | YYYY-MM-DD | Ya | Auto-fill tanggal saat laporan dibuat; dapat diedit sebelum submit |
| namaNasabah | Text | Maks. 100 karakter | Ya | Validasi karakter khusus (hanya huruf, spasi, tanda baca ringan) |
| alamatNasabah | Textarea | Maks. 200 karakter | Ya | Form multi-line; wajib memuat RT/RW dan kecamatan |
| plafondKredit | Currency | Min 0, step 1.000.000 | Ya | Format penyimpanan dalam rupiah tanpa tanda baca, tampil dengan pemisah ribuan |
| tujuanPembiayaan | Dropdown | Opsi master dari admin | Ya | Gunakan referensi tabel master `loanPurpose` |
| unitKerjaPemohon | Dropdown | Opsi master `branch` | Ya | Pre-fill berdasarkan user login bila tersedia |
| nomorSuratPermohonan | Text | Maks. 30 karakter | Ya | Wajib unik per tahun per cabang |
| tanggalSuratPermohonan | Date | Tidak boleh > tanggalLaporan | Ya | Alert jika berbeda lebih dari 30 hari dari tanggal laporan |
| tanggalTerimaSurat | DateTime | Format 24 jam | Ya | Simpan dalam UTC, tampilkan Waktu Indonesia Barat |
| tanggalDokumenLengkap | DateTime | >= tanggalTerimaSurat | Ya | Tandai berbeda jika ada jeda untuk audit SLA |
| tanggalOTS | Date | Tidak boleh > tanggalPenilaian | Ya | Bila berbeda >7 hari dari tanggal penilaian, munculkan peringatan |
| tanggalPenilaian | Date | Tidak boleh di masa depan | Ya | Validasi terhadap tanggal sistem |
| tujuanPenilaian | Dropdown | `Penjaminan Utang`, `Monitoring`, dsb | Ya | Kontrol nilai untuk kebutuhan pelaporan kredit |
| statusLaporan | Enum | `Draft`, `For Review`, `Approved`, `Rejected` | Ya | Sistem yang mengatur perubahan status |
| penilaiInternal | Dropdown | Referensi master penilai | Ya | Auto isi dengan pengguna login |
| contactPersonLapangan | Text | Maks. 100 karakter | Ya | Bisa multi value jika diperlukan (opsional multi-entry) |
| noTelpContact | Text | Numerik, panjang 10-15 | Tidak | Validasi format nomor telepon seluler |

### 15.2 Data Agunan

| Field | Tipe Data | Format / Batasan | Wajib | Catatan Implementasi |
|-------|-----------|------------------|-------|----------------------|
| jenisAgunan | Dropdown | `Rumah Tinggal`, `Ruko`, `Tanah`, dll | Ya | Menentukan visibilitas form lanjutan |
| alamatAgunan | Textarea | Maks. 200 karakter | Ya | Auto-copy dari alamat nasabah dengan opsi edit |
| kota | Dropdown | Referensi master kota | Ya | Mengikuti penomoran BPS |
| provinsi | Dropdown | Referensi master provinsi | Ya | Harus konsisten dengan data kota |
| latitude | Decimal | -90 s.d 90 (6 desimal) | Tidak | Bisa diambil dari peta atau perangkat mobile |
| longitude | Decimal | -180 s.d 180 (6 desimal) | Tidak | - |
| fotoLokasi | Multi-upload | Format JPG/PNG, maks. 5 MB/file | Ya | Minimal 4 foto: depan, kanan, kiri, dalam |
| statusHunian | Dropdown | `Dihuni`, `Kosong`, `Disewakan` | Ya | Pengaruhi penilaian risiko |
| catatanHunian | Textarea | Maks. 500 karakter | Tidak | Menampung observasi tambahan |

### 15.3 Legalitas Dokumen

| Field | Tipe Data | Format / Batasan | Wajib | Catatan Implementasi |
|-------|-----------|------------------|-------|----------------------|
| daftarSertifikat | Dynamic Table | Minimal 1 baris | Ya | Setiap baris memuat jenis, nomor, tanggal, luas, atas nama |
| jenisSertifikat | Dropdown | `SHM`, `HGB`, `HGU`, `AJB`, dll | Ya | Pilihan disesuaikan dengan kebijakan bank |
| nomorSertifikat | Text | Maks. 30 karakter | Ya | Validasi duplikasi di sistem (opsional) |
| tanggalTerbit | Date | Tidak boleh di masa depan | Ya | - |
| tanggalExpired | Date | Opsional | Tidak | Wajib jika jenis sertifikat memiliki masa berlaku (HGB/HGU) |
| luasSertifikat | Decimal | >0, dua desimal | Ya | Dalam m² |
| lampiranSertifikat | File upload | PDF/JPG, maks. 10 MB | Ya | Satu file per sertifikat |
| statusVerifikasi | Enum | `Menunggu`, `Sah`, `Perlu Klarifikasi` | Ya | Diubah oleh reviewer |
| pengingatLegal | Date | Opsional | Tidak | Digunakan untuk reminder masa berlaku |

### 15.4 Data IMB dan Dokumen Teknis

| Field | Tipe Data | Format / Batasan | Wajib | Catatan Implementasi |
|-------|-----------|------------------|-------|----------------------|
| daftarIMB | Dynamic Table | 0 atau lebih baris | Tidak | Tampilkan peringatan jika kosong untuk bangunan permanen |
| nomorIMB | Text | Maks. 30 karakter | Ya (per entri) | - |
| penerbitIMB | Dropdown | Referensi pemda setempat | Ya | - |
| tanggalTerbitIMB | Date | Tidak boleh di masa depan | Ya | - |
| luasIMB | Decimal | >0 | Ya | Perlu dibandingkan dengan luas fisik |
| berkasIMB | File upload | PDF/JPG, maks. 10 MB | Ya | - |

### 15.5 Kondisi Fisik dan Lingkungan

| Field | Tipe Data | Format / Batasan | Wajib | Catatan Implementasi |
|-------|-----------|------------------|-------|----------------------|
| bentukTanah | Dropdown | `Persegi`, `Persegi Panjang`, `Tidak Beraturan` | Ya | - |
| topografi | Dropdown | `Datar`, `Miring`, `Berbukit` | Ya | - |
| elevasiTerhadapJalan | Dropdown | `Di bawah`, `Sejajar`, `Di atas` | Ya | - |
| peruntukan | Dropdown | Referensi RTRW | Ya | Perlu integrasi dengan data perizinan daerah |
| batasUtara/Selatan/Barat/Timur | Text | Maks. 100 karakter | Ya | Dapat menggunakan auto-complete |
| checklistLingkungan | Checklist | 11 item boolean | Ya | Simpan dalam struktur array objek {id, value, notes} |
| fasilitasLingkungan | Textarea | Maks. 300 karakter | Tidak | Merangkum fasilitas sekitar |

### 15.6 Data Pembanding

| Field | Tipe Data | Format / Batasan | Wajib | Catatan Implementasi |
|-------|-----------|------------------|-------|----------------------|
| pembanding | Dynamic Table | Minimal 2 baris | Ya | Setiap baris memiliki id unik |
| jenisPembanding | Dropdown | `Tanah`, `Bangunan`, `Tanah & Bangunan` | Ya | - |
| luasTanahPembanding | Decimal | >0 | Ya | - |
| luasBangunanPembanding | Decimal | >=0 | Ya | Wajib jika jenis mencakup bangunan |
| hargaTransaksi | Currency | >0 | Ya | - |
| sumberInformasi | Text | Maks. 100 karakter | Ya | Simpan kontak narasumber |
| kontakSumber | Text | Nomor telepon | Tidak | Validasi panjang nomor |
| buktiPendukung | File upload | Foto/dokumen, maks. 5 MB | Tidak | - |

### 15.7 Lampiran

| Field | Tipe Data | Format / Batasan | Wajib | Catatan Implementasi |
|-------|-----------|------------------|-------|----------------------|
| fotoAgunan | Multi-upload | Min. 4 file, maks. 10 | Ya | Resizing otomatis ke 1200px sisi terpanjang |
| petaLokasi | File upload | PDF/JPG | Ya | Dapat diterima hasil ekspor aplikasi GIS |
| sketsaTanahku | File upload | PDF/JPG | Ya | Integrasi opsional dengan API Sentuh Tanahku |
| dokumenPendukung | Multi-upload | Format bebas, maks. 20 MB | Tidak | Termasuk korespondensi tambahan |

## 16. Logika Perhitungan Nilai

| Komponen | Rumus | Sumber Data | Output |
|----------|-------|-------------|--------|
| Nilai Pasar Tanah | `luasTanah * hargaSatuanTanah` | Input formulir | Nilai pasar per komponen |
| Nilai Pasar Bangunan | `luasBangunan * hargaSatuanBangunan` | Input formulir | - |
| Nilai Pasar Total | `Î£ Nilai Pasar Komponen` | Hasil per komponen | Digunakan sebagai dasar safety margin |
| Nilai NJOP | `luasTanah * njopTanah + luasBangunan * njopBangunan` | Input NJOP terbaru | Referensi konservatif |
| Safety Margin Amount | `nilaiPasarTotal * (safetyMargin% / 100)` | Parameter admin | Pengurang risiko harga |
| Nilai Setelah Safety Margin | `nilaiPasarTotal - safetyMarginAmount` | Perhitungan otomatis | Nilai agunan konservatif |
| Faktor Likuidasi Amount | `nilaiSafetyMargin * (faktorLikuidasi% / 100)` | Parameter admin | Mengestimasi nilai likuidasi |
| Nilai Likuidasi | `nilaiSafetyMargin - faktorLikuidasiAmount` | Perhitungan otomatis | Nilai minimal untuk mitigasi risiko |
| Nilai Rata-Rata Pembanding | `Î£ (hargaDisesuaikan * bobot)` | Data pembanding | Bobot total harus 100% |

> Parameter default: Safety margin 20%, faktor likuidasi 30% (contoh). Nilai dapat diubah admin per segmen kredit.

### 16.1 Validasi Perhitungan

- Luas bangunan fisik vs IMB harus menghasilkan peringatan jika selisih >20%.
- Harga satuan pembanding wajib berada dalam rentang toleransi Â±30% dari rata-rata sebelum penyesuaian.
- Sistem menolak penyimpanan jika total bobot pembanding â‰  100%.
- Nilai NJOP harus menggunakan referensi tahun berjalan; jika tidak tersedia, wajib mengisi alasan pada catatan penilai.

## 17. Workflow Persetujuan

1. **Draft** â€“ Penilai memasukkan dan melengkapi data. Semua field wajib minimal terisi sebelum mengajukan review.
2. **For Review** â€“ Supervisor menerima notifikasi, melakukan verifikasi dokumen legal dan konsistensi data. Dapat mengembalikan ke Draft dengan catatan.
3. **Approved** â€“ Setelah disetujui, laporan terkunci (read-only), hanya lampiran tambahan yang dapat ditambahkan oleh admin.
4. **Rejected** â€“ Jika data tidak valid, supervisor menolak dengan alasan. Penilai harus membuat revisi dan mengajukan ulang.

Setiap perpindahan status mencatat waktu, pengguna, dan catatan singkat (maks. 300 karakter). Notifikasi email/WhatsApp opsional dapat diaktifkan melalui konfigurasi sistem.

## 18. Validasi dan Pemeriksaan Otomatis Tambahan

- **Legalitas:** Validasi terhadap daftar hitam sertifikat (opsional integrasi internal). Sistem menandai otomatis jika nomor sertifikat terdeteksi duplikat.
- **Geolokasi:** Koordinat wajib berada dalam radius 200 m dari titik pada aplikasi Sentuh Tanahku. Jika tidak, munculkan peringatan.
- **Lampiran:** Ukuran total lampiran per laporan dibatasi 100 MB untuk menjaga performa.
- **Checklist Lingkungan:** Jika salah satu item risiko tinggi ditandai `Ya` (mis. berada di wilayah rawan banjir atau dekat TPA), sistem meminta penilai mengisi kolom mitigasi risiko sebelum submit.
- **Timeline SLA:** Hitung selisih hari antara tanggal terima surat dan tanggal penilaian. Jika >14 hari, sistem memunculkan notifikasi ke supervisor.
- **Audit Trail:** Setiap perubahan pada data penting (nilai perhitungan, status verifikasi legal, lampiran) disimpan ke log audit dengan versi data sebelumnya.

## 19. Integrasi dan Konfigurasi

- **Data Master:** Penamaan unit kerja, tujuan pembiayaan, parameter margin, dan daftar checklist dikelola di modul admin (CRUD).
- **API Eksternal:** Integrasi opsional dengan Sentuh Tanahku untuk validasi lokasi serta API pajak daerah untuk NJOP.
- **Export PDF:** Template laporan mengikuti struktur bab 1â€“14 dengan konversi otomatis tabel dan catatan. Pastikan gaya heading dan tabel konsisten untuk kompatibilitas pustaka render PDF.
- **Hak Akses:** Penilai hanya dapat mengedit laporan yang mereka buat. Supervisor dapat mengakses seluruh laporan dalam cabang. Admin memiliki hak override status jika terjadi kendala operasional.
- **Backup & Retensi:** Data dan lampiran disinkronkan ke storage terpusat dengan retensi minimal 5 tahun. Log audit disimpan secara terpisah untuk keperluan forensik.

## 20. Skema Data & Penyimpanan

### 20.1 Koleksi / Tabel Utama (MongoDB)

| Koleksi | Field Utama | Tipe | Keterangan |
|---------|-------------|------|------------|
| `users` | `_id` | ObjectId | Identitas pengguna |
|  | `username` | String | Unik, digunakan untuk login |
|  | `passwordHash` | String | Disimpan dalam hash bcrypt |
|  | `role` | Enum | `appraiser`, `supervisor`, `admin` |
|  | `branchId` | ObjectId | Relasi ke `branches` |
| `branches` | `_id` | ObjectId | Data unit kerja |
|  | `name` | String | Nama cabang |
|  | `region` | String | Regional induk |
| `reports` | `_id` | ObjectId | Dokumen laporan penilaian |
|  | `reportNo` | String | Nomor laporan unik |
|  | `status` | Enum | `draft`, `for_review`, `approved`, `rejected` |
|  | `generalInfo` | Object | Menyimpan data umum (lihat Bab 15) |
|  | `collateral` | Object | Detail agunan |
|  | `legalDocs` | Array<Object> | Daftar sertifikat |
|  | `imbDocs` | Array<Object> | Daftar IMB |
|  | `physicalCondition` | Object | Kondisi tanah dan bangunan |
|  | `comparables` | Array<Object> | Data pembanding |
|  | `valuation` | Object | Ringkasan nilai (pasar, NJOP, likuidasi) |
|  | `notes` | Array<Object> | Riwayat catatan penilai/supervisor |
|  | `attachments` | Array<Object> | Metadata file lampiran |
|  | `auditTrail` | Array<Object> | Catatan perubahan status/field penting |
| `parameters` | `_id` | ObjectId | Menyimpan konfigurasi sistem |
|  | `type` | Enum | `safety_margin`, `liquidation_factor`, `checklist` |
|  | `value` | Mixed | Bisa angka, string, array |
|  | `effectiveDate` | Date | Mulai berlaku |

### 20.2 Struktur Embedded Object Penting

```json
// reports.generalInfo
{
  "reportType": "penilaian_agunan",
  "reportDate": "2025-09-30",
  "customer": {
    "name": "John Secada",
    "address": "Perumahan Permata Mulia Kav 2 ..."
  },
  "application": {
    "memoNumber": "xxxx",
    "purpose": "modal_kerja",
    "loanAmount": 1000000000
  },
  "schedule": {
    "receivedAt": "2023-10-25T01:20:00+07:00",
    "otsDate": "2023-10-25",
    "valuationDate": "2023-10-25"
  }
}
```

```json
// reports.valuation
{
  "land": {
    "area": 137,
    "unitPrice": 2900000,
    "marketValue": 174216000,
    "njop": 81000000
  },
  "building": {
    "area": 45,
    "unitPrice": 1530000,
    "marketValue": 68850000,
    "njop": 12150000
  },
  "totals": {
    "marketValue": 243066000,
    "njop": 93150000,
    "safetyMarginPercent": 20,
    "afterSafetyMargin": 194452800,
    "liquidationFactorPercent": 30,
    "liquidationValue": 136116960
  }
}
```

> Catatan: Untuk sistem SQL, pecah objek ke tabel relasional (misal `report_general`, `report_collateral`, `report_comparables`, `report_valuation`) dengan foreign key ke `reports`.

### 20.3 Indeks yang Direkomendasikan

- `reports.reportNo` (unique)
- `reports.status`
- `reports.generalInfo.customer.name` (text index untuk pencarian)
- `reports.collateral.address.city` + `reports.status` (compound untuk dashboard)
- `reports.auditTrail.timestamp`
- `users.role` + `users.branchId`

## 21. Rancangan API

### 21.1 Autentikasi

| Endpoint | Metode | Deskripsi | Otorisasi |
|----------|--------|-----------|-----------|
| `/api/auth/login` | POST | Login dengan username/password, menghasilkan JWT | Publik |
| `/api/auth/refresh` | POST | Memperbarui token akses | Refresh token |
| `/api/auth/logout` | POST | Revoke refresh token aktif | Terautentikasi |

### 21.2 Laporan Penilaian

| Endpoint | Metode | Deskripsi | Role |
|----------|--------|-----------|------|
| `/api/reports` | GET | Daftar laporan dengan filter status, tanggal, cabang | Penilai, Supervisor, Admin |
| `/api/reports` | POST | Membuat laporan baru (status `draft`) | Penilai |
| `/api/reports/{id}` | GET | Detail laporan termasuk lampiran | Penilai (pemilik), Supervisor, Admin |
| `/api/reports/{id}` | PUT | Update data laporan selama status `draft` | Penilai (pemilik) |
| `/api/reports/{id}/submit` | POST | Ubah status `draft` -> `for_review` | Penilai (pemilik) |
| `/api/reports/{id}/approve` | POST | Ubah status `for_review` -> `approved` | Supervisor |
| `/api/reports/{id}/reject` | POST | Ubah status `for_review` -> `rejected` dengan catatan | Supervisor |
| `/api/reports/{id}/attachments` | POST | Unggah lampiran (foto, dokumen) | Penilai (draft), Supervisor (approved) |
| `/api/reports/{id}/attachments/{fileId}` | DELETE | Hapus lampiran sebelum `approved` | Penilai (pemilik) |
| `/api/reports/{id}/audit` | GET | Riwayat audit | Supervisor, Admin |

### 21.3 Data Master & Parameter

| Endpoint | Metode | Deskripsi | Role |
|----------|--------|-----------|------|
| `/api/branches` | GET | Daftar cabang aktif | Semua role |
| `/api/parameters` | GET | Parameter margin, likuidasi, checklist | Semua role |
| `/api/parameters/{id}` | PUT | Update parameter | Admin |
| `/api/checklist` | GET | Checklist lingkungan | Semua role |
| `/api/users` | GET | Daftar penilai per cabang | Admin |

### 21.4 Validasi Eksternal

| Endpoint | Metode | Deskripsi | Catatan |
|----------|--------|-----------|---------|
| `/api/validation/sentuh-tanahku` | POST | Validasi koordinat terhadap data BPN | Memerlukan token service eksternal |
| `/api/validation/njop` | POST | Mengambil NJOP berdasarkan NOP | Integrasi ke API pajak daerah |

> Semua endpoint diamankan dengan JWT, gunakan middleware role-based access control. Audit log ditulis untuk perubahan status dan parameter.

## 22. Alur UI & Komponen

### 22.1 Navigasi Utama

- Dashboard: ringkasan status laporan, SLA, notifikasi.
- Laporan: daftar laporan dengan filter cepat (status, cabang, rentang tanggal).
- Master Data (khusus admin): pengelolaan parameter, cabang, pengguna.
- Pengaturan Profil: ganti kata sandi, preferensi notifikasi.

### 22.2 Wizard Form Laporan

1. **Data Umum** â€“ Form multi kolom, validasi real-time (highlight field wajib).
2. **Data Agunan** â€“ Input lokasi, legalitas, IMB. Tabel dinamis dengan tombol tambah baris.
3. **Kondisi Fisik & Lingkungan** â€“ Checklist boolean, tampilan ringkasan risiko.
4. **Data Pembanding** â€“ Tabel dengan kolom harga, bobot, penyesuaian. Tambah fitur salin baris.
5. **Perhitungan Nilai** â€“ Menampilkan hasil otomatis, memungkinkan override dengan alasan (opsional).
6. **Lampiran** â€“ Upload drag & drop, preview image, indikator ukuran file.
7. **Review & Submit** â€“ Ringkasan seluruh bagian, menampilkan item yang belum lengkap.

### 22.3 Komponen Reusable

- `FormSection` â€“ Pembungkus bagian form dengan judul dan deskripsi.
- `DynamicTable` â€“ Menangani tambah/hapus baris untuk dokumen dan pembanding.
- `CurrencyInput` â€“ Input rupiah dengan format otomatis.
- `DateTimePicker` â€“ Mendukung zona waktu lokal.
- `ChecklistCard` â€“ Komponen Ya/Tidak dengan catatan tambahan.
- `StatusBadge` â€“ Menampilkan status laporan dengan warna berbeda.
- `Timeline` â€“ Menampilkan audit trail dan catatan supervisor.

### 22.4 Flow Supervisor

1. Supervisor menerima notifikasi ketika laporan masuk status `for_review`.
2. Membuka halaman detail laporan dengan tab: ringkasan, dokumen, lampiran, audit.
3. Menandai status verifikasi legal (per dokumen). Sistem menghitung checklist kelengkapan.
4. Memilih aksi `Approve` atau `Reject`, wajib mengisi catatan jika `Reject`.
5. Sistem mengunci laporan dan memicu proses generate PDF saat `Approve`.

## 23. Strategi QA & Monitoring

- **Unit Test:** Logika perhitungan nilai, validasi formulir, dan helper format (target coverage minimal 80%).
- **Integration Test:** Endpoint kritikal (`submit`, `approve`, `reject`, upload lampiran) diuji dengan skenario positif/negatif.
- **UI Test (Cypress/Playwright):** Simulasikan alur penilai membuat laporan, supervisor menyetujui, termasuk validasi field wajib.
- **Performance Test:** Pastikan upload lampiran dan generate PDF bekerja pada latensi <3 detik untuk file standar.
- **Security Test:** Uji brute force login, akses ilegal antar cabang, dan manipulasi status via API.
- **Monitoring:** Gunakan APM (contoh: Elastic APM) untuk memantau performa API dan error rate. Audit log di-stream ke sistem SIEM internal.

